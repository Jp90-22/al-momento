@page "{id:int}"
@using Microsoft.AspNetCore.Components
@using Microsoft.AspNetCore.Html
@model AlMomento.Pages.Noticias.VerModel
@{
    ViewData["Title"] = Model.Noticia.Titulo;
}

<div class="container px-5">
    <h2 class="text-muted">
        <small>
            @Model.Noticia.Categoria
        </small>
    </h2>

    <h1>@Model.Noticia.Titulo</h1>

    <div class="noticia-sumario my-4 py-2">
        <p class="fs-5">
            @Model.Noticia.Sumario
        </p>
    </div>

    <div class="d-flex justify-content-center align-content-center">
        <figure class="figure">
            <img src="@Model.Noticia.Foto" class="figure-img img-fluid rounded" alt="@Model.Noticia.FotoPie">
            <figcaption class="figure-caption">@Model.Noticia.FotoPie</figcaption>
        </figure>
    </div>

    <div class="d-flex justify-content-start align-items-center align-content-center">
        <div class="d-flex flex-wrap justify-content-start align-items-center align-content-center">
            <div class="fs-1 me-3">
                <i class="bi bi-person-circle"></i>
            </div>
            <p class="m-0">
                <span class="fw-semibold">@Model.Noticia.Autor</span>
                <br />
                <small class="fw-light">@Model.Noticia.Localidad</small>
            </p>
        </div>
        <div class="ms-5">
            <a class="fs-3 text-primary" href="mailto:@Model.Noticia.AutorContacto" title="@Model.Noticia.AutorContacto">
                <i class="bi bi-envelope-fill"></i>
            </a>
        </div>
    </div>

    <div class="mt-4">
        <p class="text-secondary">
            <small>
                @Model.Noticia.FechaPublicacion |
                Redactado el @Model.Noticia.FechaRedaccion
            </small>
        </p>
    </div>

    <div>
        <p>
            @Model.Noticia.Lead
        </p>
        <p>
            @foreach (var paragraph in Model.Noticia.Cuerpo.Split(new[] { "\r\n", "\r", "\n" }, StringSplitOptions.None))
            {
                if (!string.IsNullOrWhiteSpace(paragraph))
                {
                <p>@paragraph</p>
                }
            }
        </p>
    </div>

    <hr />
    <hr />

    <div class="d-flex justify-content-end align-content-center flex-wrap">
        <p class="fs-4" title="Cantidad de visitas">
            <i class="bi bi-eye-fill text-primary"></i>
            <span class="fw-semibold">@Model.Noticia.CantidadVisitas</span>
        </p>
        <p class="fs-4 ms-3" title="Cantidad de me gusta">
            <i class="bi bi-heart-fill text-danger"></i>
            <span class="fw-semibold">@Model.Noticia.CantidadLikes</span>
        </p>
    </div>
</div>